"use strict";angular.module("vppApp",["ngCookies","ngResource","ngSanitize","ui.bootstrap","ui.router","pascalprecht.translate","cgNotify"]).config(function(t,e,o,n){e.otherwise("/"),n.preferredLanguage("en")}).factory("authInterceptor",function(t,e,o){return{request:function(t){return t.headers=t.headers||{},o&&o.get("sessionId")&&(t.headers.sessionid=o.get("sessionId")),t},responseError:function(t){return 401===t.status?(o.remove("sessionId"),e.reject(t)):e.reject(t)}}}).run(function(){}),function(){var t=[].slice;!function(e,o){var n;return n=function(){function t(t,o){null==o&&(o={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},o),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(o,n){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>n?e:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var o;return o=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?o[1]:o[0]:e.options.inverse?o[0]:o[1]}}(this)),e?setTimeout(function(){return e()},50):void 0},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t._width(),t._containerPosition(null,function(){return t.options.animate?t.$wrapper.addClass(""+t.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?t():e=o.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(t(),o.clearInterval(e)):void 0}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(o,n){var i;return o.preventDefault(),o.stopImmediatePropagation(),i=t.$element.is(":checked"),t._containerPosition(i),i!==t.options.state?(t.options.state=i,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[i]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var o;if(null!=t._dragStart&&(e.preventDefault(),o=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(o<-t._handleWidth||o>0)))return t._dragEnd=o,t.$container.css("margin-left",""+t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var o;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(o=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!o:o)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(o){return o.preventDefault(),o.stopImmediatePropagation(),o.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return o.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var o,n,i,s;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(n=[],i=0,s=t.length;s>i;i++)o=t[i],n.push(""+this.options.baseClass+"-"+o);return n},t}(),e.fn.bootstrapSwitch=function(){var o,i,s;return i=arguments[0],o=2<=arguments.length?t.call(arguments,1):[],s=this,this.each(function(){var t,a;return t=e(this),a=t.data("bootstrap-switch"),a||t.data("bootstrap-switch",a=new n(this,i)),"string"==typeof i?s=a[i].apply(a,o):void 0}),s},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),angular.module("vppApp").controller("MainCtrl",function(){}),angular.module("vppApp").config(function(t){t.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}).state("home",{url:"/home",templateUrl:"public/templates/home/home.html",controller:"HomeCtrl"}).state("map",{url:"/map",templateUrl:"public/templates/mapping/mapping.html",controller:"MapCtrl",resolve:{promiseObj:function(t,e,o){var n=t.defer(),i={Map:"esri/map",esriConfig:"esri/config",FeatureLayer:"esri/layers/FeatureLayer",InfoTemplate:"esri/InfoTemplate",arcgisUtils:"esri/arcgis/utils",LayerList:"esri/dijit/LayerList",Popup:"esri/dijit/Popup",PopupTemplate:"esri/dijit/PopupTemplate",SimpleFillSymbol:"esri/symbols/SimpleFillSymbol",SimpleMarkerSymbol:"esri/symbols/SimpleMarkerSymbol",SimpleLineSymbol:"esri/symbols/SimpleLineSymbol",TextSymbol:"esri/symbols/TextSymbol",Color:"dojo/_base/Color",parser:"dojo/parser",GreySkies:"dojox/charting/themes/GreySkies",number:"dojo/number",dom:"dojo/dom",on:"dojo/on",query:"dojo/query",domStyle:"dojo/dom-style",domConstruct:"dojo/dom-construct",domReady:"dojo/domReady",GeometryService:"esri/tasks/GeometryService",Extent:"esri/geometry/Extent",HeatmapRenderer:"esri/renderers/HeatmapRenderer",ClassBreaksRenderer:"esri/renderers/ClassBreaksRenderer",SimpleRenderer:"esri/renderers/SimpleRenderer",ScaleDependentRenderer:"esri/renderers/ScaleDependentRenderer"};return o.loadDependencies(i,function(){n.resolve(),e.$$phase||e.$apply()}),n.promise}}}).state("database",{url:"/database",templateUrl:"public/templates/database/database.html",controller:"DatabaseCtrl"}).state("about",{url:"/about",templateUrl:"public/templates/about/about.html",controller:"AboutCtrl"}).state("research",{url:"/research",templateUrl:"public/templates/research/research.html",controller:"ResearchCtrl"})}).service("wish",function(){function t(t,o){var n=_.values(t),i=_.keys(t);require(n,function(){var t=arguments;_.each(i,function(o,n){e[o]=t[n]}),o()})}var e={};return{loadDependencies:function(e,o){t(e,o)},get:function(){return e}}}),angular.module("vppApp").factory("User",function(){}),angular.module("vppApp").config(function(t){t.useSanitizeValueStrategy("sanitize"),t.translations("en",{HEADLINE:"Viva La Costume"})}),angular.module("vppApp").config(function(t){t.useSanitizeValueStrategy("sanitize"),t.translations("jp",{HEADLINE:"ビバラコスチューム"})}),angular.module("vppApp").directive("footerTemplate",function(t,e,o){return{restrict:"EA",scope:{snippets:"="},templateUrl:"footer/footer.directive.html",link:function(t){t.changeLanguage=function(t){o.use(t)},t.changeLanguageOnEnter=function(t,e){13===e.which&&o.use(t)},t.adaReturnToStart=function(){return $("#user-link").focus(),!1}}}}),angular.module("vppApp").directive("navTemplate",function(){return{restrict:"EA",scope:{snippets:"="},templateUrl:"navbar/navbar.directive.html",link:function(t){t.user={name:"What is this?"}}}}),angular.module("vppApp").controller("AboutCtrl",["$scope",function(){}]),angular.module("vppApp").controller("DatabaseCtrl",["$scope",function(){$(".divControl").click(function(){$(".divFade").each(function(){"hidden"==$(".divFade").css("visibility")||$(".divFade").fadeOut(500)})}),$("#dbSummaryMI").click(function(){$("#DataSummary").fadeIn(500)}),$("#dbPoliciesMI").click(function(){$("#Policies").fadeIn(500)}),$("#vwDataBTN").click(function(){$("#DataTable").fadeIn(500)}),$("#vwOptionsBTN").click(function(){$("#DataSummary").fadeIn(500)}),$('input[type="checkbox"], input[type="radio"]').not("[data-switch-no-init]").bootstrapSwitch(),$('input[type="checkbox"], input[type="radio"]').on("switchChange.bootstrapSwitch",function(t,e){console.log($(this).attr("name")),console.log(e)})}]),angular.module("vppApp").controller("HomeCtrl",["$scope",function(){}]),angular.module("vppApp").controller("MapCtrl",function(t,e,o){function n(t,e,o,n){console.clear(),console.log(n),n>14?(s.show(),te.hide()):(s.hide(),te.show())}function i(){$("#mapNav").fadeOut(0),$("#mapOpts").fadeOut(0),$("#mapBasemaps").fadeOut(0),$("#mapLayers").fadeOut(0),$("#mapPrint").fadeOut(0)}var s,a,r,l,p,h,d,c=o.get(),u="http://gis.mtc.ca.gov/mtc/rest/services/VPP/vpp_V7/FeatureServer/2";c.parser.parse(),c.esriConfig.defaults.geometryService=new c.GeometryService("http://tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer"),a=new c.SimpleLineSymbol("solid",new c.Color("#444444"),3),r=new c.SimpleFillSymbol("solid",a,new c.Color([68,68,68,.25])),p={fillSymbol:r,marginLeft:"20",marginTop:"20"},l=new c.Popup(p,c.domConstruct.create("div")),e.map=new c.Map("map",{center:[-122.416,37.783],zoom:11,minZoom:3,maxZoom:20,infoWindow:l,basemap:"topo"}),h=new c.PopupTemplate({title:"Parking Spaces by Block Face",fieldInfos:[{fieldName:"Total_Spaces",label:"Total Spaces",format:{places:0,digitSeparator:!0}}],description:"There are {Total_Spaces} total parking spaces on this block"}),s=new c.FeatureLayer(u,{id:"blockFaces",mode:c.FeatureLayer.MODE_SNAPSHOT,outFields:["*"],infoTemplate:h}),d=new c.SimpleLineSymbol(c.SimpleLineSymbol.STYLE_SOLID,new c.Color([255,0,0]));var f=new c.ClassBreaksRenderer(d,"Total_Spaces"),m=new c.Color([56,168,0,1]),b=new c.SimpleLineSymbol("solid",m,3),g=new c.Color([139,209,0,1]),w=new c.SimpleLineSymbol("solid",g,3),y=new c.Color([255,255,0,1]),S=new c.SimpleLineSymbol("solid",y,3),v=new c.Color([255,128,0,1]),C=new c.SimpleLineSymbol("solid",v,3),_=new c.Color([255,0,0,1]),T=new c.SimpleLineSymbol("solid",_,3),L=0,k=6,P=7,x=14,I=15,A=26,O=27,D=54,F=55,W=116;f.addBreak(L,k,b),f.addBreak(P,x,w),f.addBreak(I,A,S),f.addBreak(O,D,C),f.addBreak(F,W,T),s.setRenderer(f),e.map.addLayer(s),s.hide();var R=new c.Color("#999"),E=new c.SimpleLineSymbol("solid",R,5),j=new c.SimpleFillSymbol("solid",E,null),H=new c.SimpleRenderer(j),N=new c.FeatureLayer("http://gis.mtc.ca.gov/mtc/rest/services/VPP/vpp_V7/MapServer/3",{mode:c.FeatureLayer.MODE_SNAPSHOT,outFields:["*"]});N.setRenderer(H),e.map.addLayer(N),N.hide();var M=new c.Color("#b266ff"),B=new c.SimpleLineSymbol("solid",M,3),z=new c.SimpleFillSymbol("solid",B,null),G=new c.SimpleRenderer(z),U=new c.FeatureLayer("http://gis.mtc.ca.gov/mtc/rest/services/OBAG_PDA/OBAG_PDA/MapServer/0",{mode:c.FeatureLayer.MODE_SNAPSHOT,outFields:["*"]});U.setRenderer(G),e.map.addLayer(U),U.hide();var V=new c.PopupTemplate({title:"Community of Concern",fieldInfos:[{fieldName:"totpop",label:"Total Population",format:{places:0,digitSeparator:!0}}],description:"Total population is {totpop}"}),q=new c.FeatureLayer("http://gis.mtc.ca.gov/mtc/rest/services/Open_Data/Open_Data_Layers/MapServer/14",{id:"COC",mode:c.FeatureLayer.MODE_SNAPSHOT,outFields:["*"],infoTemplate:V});q.setDefinitionExpression("cocflag = 1");var X=new c.Color("#ff9999"),Z=new c.SimpleLineSymbol("solid",X,3),Q=new c.SimpleFillSymbol("solid",Z,null),Y=new c.SimpleRenderer(Q);q.setRenderer(Y),e.map.addLayer(q),q.hide();var J=(new c.InfoTemplate("Attributes","Total Spaces: ${Total_Spaces_1}"),"http://gis.mtc.ca.gov/mtc/rest/services/VPP/vpp_V7/FeatureServer/0"),K={mode:c.FeatureLayer.MODE_SNAPSHOT,outFields:["Total_Spaces_1"]},te=new c.FeatureLayer(J,K),ee=new c.HeatmapRenderer({field:"Total_Spaces_1",blurRadius:7,maxPixelIntensity:850,minPixelIntensity:0});te.setRenderer(ee),e.map.addLayer(te),te.show(),dojo.connect(e.map,"onZoomEnd",n),$(".clickable").on("click",function(){$(this).closest(".panel").fadeOut(300,function(){$("#title").text(""),$(".tools").fadeOut()})}),$("#mapNavCTL").click(function(){i(),$("#iconTitle").html("<span><i class='fa fa-location-arrow fa-lg fa-fw'></i></span>&nbsp;&nbsp;"),$("#title").text("Map Navigation"),$("#mapToolsPNL").fadeIn(500),$("#mapNav").fadeIn(500)}),$("#mapOptionsCTL").click(function(){i(),$("#iconTitle").html("<span><i class='fa fa-ellipsis-h fa-lg fa-fw'></i></span>&nbsp;&nbsp;"),$("#title").text("Map Type"),$("#mapToolsPNL").fadeIn(500),$("#mapOpts").fadeIn(500)}),$("#mapBaseCTL").click(function(){i(),$("#iconTitle").html("<span><i class='fa fa-globe fa-lg fa-fw'></i></span>&nbsp;&nbsp;"),$("#title").text("Choose Basemap"),$("#mapToolsPNL").fadeIn(500),$("#mapBasemaps").fadeIn(500)}),$("#mapLayersCTL").click(function(){i(),$("#iconTitle").html("<span><i class='fa fa-th-list fa-lg fa-fw'></i></span>&nbsp;&nbsp;"),$("#title").text("View Layers"),$("#mapToolsPNL").fadeIn(500),$("#mapLayers").fadeIn(500)}),$("#mapPrintCTL").click(function(){i(),$("#iconTitle").html("<span><i class='fa fa-print fa-lg fa-fw'></i></span>&nbsp;&nbsp;"),$("#title").text("Print Tools"),$("#mapToolsPNL").fadeIn(500),$("#mapPrint").fadeIn(500)}),$('input[type="checkbox"], input[type="radio"]').not("[data-switch-no-init]").bootstrapSwitch(),$('input[type="checkbox"], input[type="radio"]').on("switchChange.bootstrapSwitch",function(t,e){var o=$(this).attr("name");if(e)switch(o){case"PDA_FL":U.show();break;case"COC_FL":q.show();break;case"studyAreasFL":N.show()}else switch(o){case"PDA_FL":U.hide();break;case"COC_FL":q.hide();break;case"studyAreasFL":N.hide()}})}),angular.module("vppApp").controller("ResearchCtrl",["$scope",function(){}]);